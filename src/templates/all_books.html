{% extends 'pattern.html' %}

{% block title %}
Все книги
{% endblock %}


{% block body %}
    <h1>Все книги</h1>
    <div class="alert alert-info">
        <b>
          <input class="input_update form-control" id="gfg" type="text"
                 placeholder="Поиск">
        </b>
        <br>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>id</th>
                    <th>author</th>
                    <th>name</th>
                    <th>date_of_issue</th>
                    <th>return_date</th>
                    <th>person_id</th>
                </tr>
            </thead>
            <tbody id="geeks">
                {% for el in articles_books %}
                    <tr>
                        <td>{{ el.id }}</td>
                        <td>{{ el.author }}</td>
                        <td>{{ el.name }}</td>
                        <td>{{ el.date_of_issue }}</td>
                        <td>{{ el.return_date }}</td>
                        <td>{{ el.person_id }}</td>
                        <td><a href="/book/{{el.id}}/put" class="btn btn-warning">Изменить</a>
                            <a href="http://127.0.0.1:5001/book/{{el.id}}/delete" class="btn btn-danger">Удалить</a>
                        </td>
                    </tr>
            {% endfor %}
            </tbody>
        </table>
        <script>
            $(document).ready(function() {
                $("#gfg").on("keyup", function() {
                    var value = $(this).val().toLowerCase();
                    $("#geeks tr").filter(function() {
                        $(this).toggle($(this).text()
                        .toLowerCase().indexOf(value) > -1)
                    });
                });
            });
        </script>
    </div>
{% endblock %}